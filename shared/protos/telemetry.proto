syntax = "proto3";

import "google/protobuf/timestamp.proto";

//  =======================
//   SERVER -> CLIENT DATA
//  =======================

message Alert {
    string alert_text = 1;
}

message Switch {
    message State {
        string switch_name = 1;
        bool value = 2;
    }

    int32 count = 1;
    repeated State states = 2;
}

message Control {
    message AnalogAxis {
        string name = 1;
        float x_position = 2;
        float y_position = 3;
        int32 angle_degrees = 4;
        float angle_radians = 5;
    }

    repeated AnalogAxis axes = 1;
}

message Telemetry {
    google.protobuf.Timestamp message_time = 1;
    oneof message_type {
        Alert alert = 2;
        Switch switch = 3;
        Control control = 4;
    }
}